<!DOCTYPE html>
<html>
  <head>
    <title>GitInsight</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <h1>GitInsight</h1>
      <div id="token-info">
        <p>
          A personal access token (PAT) is required to increase the GitHub API
          rate limit.
          <a
            href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens"
            target="_blank"
            >Create a PAT</a
          >
          with no additional scopes and paste it below.
        </p>
        <p>
          <a
            href="https://docs.github.com/en/rest/using-the-rest-api/rate-limits-for-the-rest-api?apiVersion=2022-11-28#primary-rate-limit-for-authenticated-users"
            target="_blank"
            >Learn more about rate limits</a
          >
        </p>
      </div>
      <div id="token-input">
        <input
          type="password"
          id="github-token"
          placeholder="Enter GitHub Token"
        />
        <button id="save-token">Save</button>
        <button id="toggle-token" title="Show/Hide Token">Show</button>
      </div>
      <button
        id="refresh-btn"
        title="Data is cached for 5 minutes. Click to force refresh."
      >
        Refresh Data
      </button>
      <div id="repo-info">
        <p>
          <em
            >Note: Some metrics are based on the most recent 100 items due to
            API limitations.</em
          >
        </p>
        <h2>Repository Overview</h2>
        <p>Repository: <span id="repo-name"></span></p>
        <p>Creator: <span id="repo-creator"></span></p>
        <p>Created on: <span id="repo-created"></span></p>
        <p>Stars: <span id="repo-stars"></span></p>
        <p>Forks: <span id="repo-forks"></span></p>
        <p>Watchers: <span id="repo-watchers"></span></p>
        <p>Open Issues + PRs: <span id="repo-issues"></span></p>
        <!-- Remove this line: -->
        <!-- <p>Open Pull Requests: <span id="repo-prs"></span></p> -->
        <p>Contributors: <span id="repo-contributors"></span></p>

        <h2>Project Health</h2>
        <p>Commit Velocity: <span id="commit-velocity"></span></p>
        <p>Time Since Last Commit: <span id="time-since-last-commit"></span></p>
        <p>
          Avg Issue Resolution Time:
          <span id="avg-issue-resolution-time"></span>
        </p>
        <p>Avg PR Merge Time: <span id="avg-pr-merge-time"></span></p>
        <p>PR Acceptance Rate: <span id="pr-acceptance-rate"></span></p>

        <h2>Community Engagement</h2>
        <p>
          First-Time Contributors: <span id="first-time-contributors"></span>
        </p>
        <p>Top Contributors: <span id="top-contributors"></span></p>

        <h2>Code Metrics</h2>
        <p>Repository Size: <span id="repo-size"></span></p>
        <!-- Removed: <p>Branches: <span id="branches"></span></p> -->
        <p>Primary Language: <span id="primary-language"></span></p>
        <p>Language Distribution: <span id="language-distribution"></span></p>

        <h2>Release Management</h2>
        <p>Release Frequency: <span id="release-frequency"></span></p>
        <p>Latest Release: <span id="latest-release"></span></p>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
